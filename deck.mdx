import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";

export const theme = vsDark;

# Fun with Generator Functions

by [Jason Wohlgemuth](https://landr.me/jason) using [Code Surfer](https://codesurfer.pomb.us)

---

<CodeSurfer>

```js title="This is a generator function"
function* iter(value) {
    // code code code
}
```

```js 1:7 subtitle="insert example code"
function* iter(value) {
    yield 'one';
    yield 'two';
    yield value;
    yield* ['one', 'two', 'three'];
    return 'a value';
}
```

```js 1 subtitle="* not a footnote"
function* iter(value) {
    yield 'one';
    yield 'two';
    yield value;
    yield* ['one', 'two', 'three'];
    return 'a value';
}
```

```diff 2:3 subtitle="yield values one at a time"
```

```diff 1,4 subtitle="yield a passed parameter"
```

```diff 5 subtitle="yield an iterable"
```

```diff 6 subtitle="return (yield) a value"
```

```js
//TODO: use generator functions
```

</CodeSurfer>

___

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

```js
function* iter(value) {
    yield 'one';
    yield 'two';
    yield value;
    yield ['a', 'b', 'c'];
    yield* ['a', 'b', 'c'];
}

```

```js 1

const foo = iter('three');
foo.next();
foo.next();
foo.next();
foo.next();
foo.next();
foo.next();
foo.next();
foo.next();
```

</Step>

<Step>

```diff 1
```

```diff 2
```

</Step>

<Step>

```diff 2
```

```diff 3 subtitle="{value: 'one', done: false}"
```

</Step>

<Step>


```diff 3
```

```diff 4 subtitle="{value: 'two', done: false}"
```

</Step>

<Step>


```diff 4
```

```diff 5 subtitle="{value: 'three', done: false}"
```

</Step>

<Step>


```diff 5
```

```diff 6 subtitle="{value: ['a', 'b', 'c'], done: false}"
```

</Step>

<Step>


```diff 6
```

```diff 7 subtitle="{value: 'a', done: false}"
```

</Step>

<Step>


```diff 6
```

```diff 8 subtitle="{value: 'b', done: false}"
```

</Step>

<Step>


```diff 6
```

```diff 9 subtitle="{value: 'c', done: false}"
```

</Step>

<Step>


```diff 8
```

```diff 10 subtitle="{value: undefined, done: true}"
```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

```js
function* iterWithReturn() {
    yield 'What?!?';
    return 'OK!!!'; 
    yield 'Huh? I beg your pardon.';
}

```

```js 1

const john = iterWithReturn();
john.next();
john.next();
john.next();
```

</Step>

<Step>

```diff 1
```

```diff 2
```

</Step>

<Step>

```diff 2
```

```diff 3 subtitle="{value: 'What?!?', done: false}"
```

</Step>

<Step>

```diff 3
```

```diff 4 subtitle="{value: 'OK!!!', done: true}"
```

</Step>

<Step>

```diff 6
```

```diff 5 subtitle="{value: undefined, done: true}"
```

</Step>


</CodeSurferColumns>

---

<CodeSurfer>

```js title="This is a title" subtitle="and this a subtitle"
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit
    ? consectetur(ipsum, 0, dolor < 0 ? 0 : dolor)
    : [];
}

function incididunt(ipsum, ut = 1) {
  ut = labore.et(amet(ut), 0);
  const sit = ipsum == null ? 0 : ipsum.sit;

  if (!sit || ut < 1) {
    return [];
  }

  let dolore = 0;
  let magna = 0;
  const aliqua = new eiusmod(labore.ut(sit / ut));

  while (dolore < sit) {
    aliqua[magna++] = consectetur(
      ipsum,
      dolore,
      (dolore += ut)
    );
  }

  return aliqua;
}
```

```js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit
    ? consectetur(ipsum, 0, dolor < 0 ? 0 : dolor)
    : [];
}

function adipiscing(...elit) {
  if (!elit.sit) {
    return [];
  }

  const sed = elit[0];
  return eiusmod.tempor(sed) ? sed : [sed];
}

function incididunt(ipsum, ut = 1) {
  ut = labore.et(amet(ut), 0);
  const sit = ipsum == null ? 0 : ipsum.sit;

  if (!sit || ut < 1) {
    return [];
  }

  let dolore = 0;
  let magna = 0;
  const aliqua = new eiusmod(labore.ut(sit / ut));

  while (dolore < sit) {
    aliqua[magna++] = consectetur(
      ipsum,
      dolore,
      (dolore += ut)
    );
  }

  return aliqua;
}
```

```diff 1[10:14],2[15:19],3[22:27],10:12

```

</CodeSurfer>

---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

```js
const magna = aliqua => aliqua.ut((enim, ad) => enim, 0);
```

```js
const minim = (ad, enim) => dolore.magna(ad / enim);
```

</Step>

<Step>

```js
const lorem = (ipsum, dolor, sit) => {
  const amet = dolor - ipsum;
  return consectetur.adipiscing(
    {
      elit: sed.eiusmod(sit - dolor) / amet + 2,
    },
    (tempor, incididunt) => ipsum + amet * incididunt
  );
};

const magna = aliqua => aliqua.ut((enim, ad) => enim, 0);
```

```js
const minim = (ad, enim) => dolore.magna(ad / enim);

const sed = (eiusmod, tempor, incididunt) => {
  const ut = tempor - eiusmod;
  return labore.et(
    {
      amet: dolore.magna(incididunt - tempor) / ut + 2,
    },
    (aliqua, elit) => eiusmod + ut * elit
  );
};
```

</Step>

</CodeSurferColumns>

---

docs:  
[codesurfer.pomb.us](https://codesurfer.pomb.us)
